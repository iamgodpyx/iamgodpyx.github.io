{"version":3,"file":"static/js/async/tools/page.05c248a7.js","sources":["webpack://thrift-to-ts-online/./src/routes/tools/page.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport {\n  Controlled as CodeMirror,\n  UnControlled as CodeMirror2,\n} from \"react-codemirror2\";\nimport \"codemirror/lib/codemirror.css\";\nimport \"codemirror/theme/dracula.css\"; // 使用 Dracula 主题\nimport \"codemirror/mode/javascript/javascript\"; // 引入 JavaScript 语法高亮\nimport { parser } from \"@/lib/thriftNew\";\nimport { print } from \"@/lib/thriftNew/print\";\nimport { prettier } from \"@/lib/tools/format\";\nimport Tabs from \"@mui/material/Tabs\";\nimport Tab from \"@mui/material/Tab\";\nimport Button from \"@mui/material/Button\";\nimport {\n  START_THRIFT,\n  START_HTML,\n  START_JS_BUNDLE,\n  START_SOURCEMAP,\n  THRIFT_TIPS,\n  JS_ESCHECK_TIPS,\n  HTML_ESCHECK_TIPS,\n} from \"./constant\";\nimport Tooltip from \"@mui/material/Tooltip\";\n\nimport \"./index.css\";\n\nenum TAB_VALUES {\n  THRIFT_TO_TS = 0,\n  JS_BUNDLE = 1,\n  HTML = 2,\n}\n\nexport default function EsCheck() {\n  const [tabValues, setTabValues] = useState(TAB_VALUES.JS_BUNDLE);\n  const [thrift, setThrift] = useState(START_THRIFT);\n  const [jsBundleCode, setJsBundleCode] = useState(START_JS_BUNDLE);\n  const [htmlCode, setHtmlCode] = useState(START_HTML);\n  const [sourcemapCode, setSourcemapCode] = useState(START_SOURCEMAP);\n\n  const [tsCode, setTsCode] = useState(\"\");\n  const [jsBundleLogCode, setJsBundleLogCode] = useState(\"\");\n  const [htmlLogCode, setHtmlLogCode] = useState(\"\");\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const handleChange = (editor: any, data: any, value: any) => {\n    setThrift(value);\n  };\n\n  const handleClick = async () => {\n    const ast = parser(\"\", thrift);\n    const tsCode = await print(ast);\n    // const result = await prettier(tsCode);\n    setTsCode(tsCode);\n  };\n  return (\n    <div className=\"ESCheck flex px-[15px] py-[15px] flex-col\">\n      <Tabs\n        value={tabValues}\n        indicatorColor=\"secondary\"\n        textColor=\"inherit\"\n        aria-label=\"full width tabs example\"\n        sx={{\n          \".MuiTab-root\": {\n            textTransform: \"none\", // 禁用自动大写\n          },\n        }}\n      >\n        <Tooltip title={THRIFT_TIPS} placement=\"bottom\">\n          <Tab\n            label=\"Thrift IDL 转 TypeScript\"\n            value={TAB_VALUES.THRIFT_TO_TS}\n            onClick={() => setTabValues(TAB_VALUES.THRIFT_TO_TS)}\n          />\n        </Tooltip>\n        <Tooltip title={JS_ESCHECK_TIPS} placement=\"bottom\">\n          <Tab\n            label=\"Js Bundle ESCheck\"\n            value={TAB_VALUES.JS_BUNDLE}\n            onClick={() => setTabValues(TAB_VALUES.JS_BUNDLE)}\n          />\n        </Tooltip>\n        <Tooltip title={HTML_ESCHECK_TIPS} placement=\"bottom\">\n          <Tab\n            label=\"HTML ESCheck\"\n            value={TAB_VALUES.HTML}\n            onClick={() => setTabValues(TAB_VALUES.HTML)}\n          />\n        </Tooltip>\n      </Tabs>\n      {tabValues === TAB_VALUES.JS_BUNDLE ? (\n        <div className=\"flex\">\n          <div className=\"flex flex-col\">\n            <CodeMirror\n              className=\"CodeMirror-js mb-[16px]\"\n              value={jsBundleCode}\n              options={{\n                mode: \"javascript\", // 设置编辑器模式为 JavaScript\n                theme: \"dracula\", // 使用 Dracula 主题\n                lineNumbers: true, // 显示行号\n                indentUnit: 2, // 设置缩进空格为 2\n                tabSize: 2, // 设置 Tab 大小为 2\n                autoCloseBrackets: true, // 自动闭合括号\n                matchBrackets: true, // 匹配括号\n                showCursorWhenSelecting: true, // 选中时显示光标\n                lineWrapping: true,\n              }}\n              onBeforeChange={() => {}} // 每次编辑内容变化时更新 state\n            />\n            <CodeMirror\n              className=\"CodeMirror-js\"\n              value={sourcemapCode}\n              options={{\n                mode: \"javascript\", // 设置编辑器模式为 JavaScript\n                theme: \"dracula\", // 使用 Dracula 主题\n                lineNumbers: true, // 显示行号\n                indentUnit: 2, // 设置缩进空格为 2\n                tabSize: 2, // 设置 Tab 大小为 2\n                autoCloseBrackets: true, // 自动闭合括号\n                matchBrackets: true, // 匹配括号\n                showCursorWhenSelecting: true, // 选中时显示光标\n                lineWrapping: true,\n              }}\n              onBeforeChange={() => {}} // 每次编辑内容变化时更新 state\n            />\n          </div>\n          <div className=\"mx-[10px] flex\">\n            <Button\n              style={{ margin: \"auto\" }}\n              className=\"h-[30px]\"\n              variant=\"contained\"\n            >\n              检查\n            </Button>\n          </div>\n\n          <CodeMirror2\n            className=\"CodeMirror-log\"\n            value={jsBundleLogCode}\n            options={{\n              mode: \"javascript\", // 设置编辑器模式为 JavaScript\n              theme: \"dracula\", // 使用 Dracula 主题\n              lineNumbers: true, // 显示行号\n              indentUnit: 2, // 设置缩进空格为 2\n              tabSize: 2, // 设置 Tab 大小为 2\n              autoCloseBrackets: true, // 自动闭合括号\n              matchBrackets: true, // 匹配括号\n              showCursorWhenSelecting: true, // 选中时显示光标\n              readOnly: true,\n              lineWrapping: true,\n            }}\n          />\n        </div>\n      ) : tabValues === TAB_VALUES.HTML ? (\n        <div className=\"flex\">\n          <CodeMirror\n            value={htmlCode}\n            options={{\n              mode: \"javascript\", // 设置编辑器模式为 JavaScript\n              theme: \"dracula\", // 使用 Dracula 主题\n              lineNumbers: true, // 显示行号\n              indentUnit: 2, // 设置缩进空格为 2\n              tabSize: 2, // 设置 Tab 大小为 2\n              autoCloseBrackets: true, // 自动闭合括号\n              matchBrackets: true, // 匹配括号\n              showCursorWhenSelecting: true, // 选中时显示光标\n              lineWrapping: true,\n            }}\n            onBeforeChange={() => {}} // 每次编辑内容变化时更新 state\n          />\n          <div className=\"mx-[10px] flex\">\n            <Button\n              style={{ margin: \"auto\" }}\n              className=\"h-[30px]\"\n              variant=\"contained\"\n            >\n              检查\n            </Button>\n          </div>\n\n          <CodeMirror2\n            className=\"CodeMirror-log\"\n            value={htmlLogCode}\n            options={{\n              mode: \"javascript\", // 设置编辑器模式为 JavaScript\n              theme: \"dracula\", // 使用 Dracula 主题\n              lineNumbers: true, // 显示行号\n              indentUnit: 2, // 设置缩进空格为 2\n              tabSize: 2, // 设置 Tab 大小为 2\n              autoCloseBrackets: true, // 自动闭合括号\n              matchBrackets: true, // 匹配括号\n              showCursorWhenSelecting: true, // 选中时显示光标\n              readOnly: true,\n              lineWrapping: true,\n            }}\n          />\n        </div>\n      ) : (\n        <div className=\"flex\">\n          <CodeMirror\n            value={thrift}\n            options={{\n              mode: \"javascript\", // 设置编辑器模式为 JavaScript\n              theme: \"dracula\", // 使用 Dracula 主题\n              lineNumbers: true, // 显示行号\n              indentUnit: 2, // 设置缩进空格为 2\n              tabSize: 2, // 设置 Tab 大小为 2\n              autoCloseBrackets: true, // 自动闭合括号\n              matchBrackets: true, // 匹配括号\n              showCursorWhenSelecting: true, // 选中时显示光标\n              lineWrapping: true,\n            }}\n            onBeforeChange={handleChange} // 每次编辑内容变化时更新 state\n          />\n          <div className=\"mx-[10px] flex\">\n            <Button\n              style={{ margin: \"auto\" }}\n              className=\"h-[30px]\"\n              variant=\"contained\"\n              onClick={handleClick}\n            >\n              生成\n            </Button>\n          </div>\n\n          <CodeMirror2\n            value={tsCode}\n            options={{\n              mode: \"javascript\", // 设置编辑器模式为 JavaScript\n              theme: \"dracula\", // 使用 Dracula 主题\n              lineNumbers: true, // 显示行号\n              indentUnit: 2, // 设置缩进空格为 2\n              tabSize: 2, // 设置 Tab 大小为 2\n              autoCloseBrackets: true, // 自动闭合括号\n              matchBrackets: true, // 匹配括号\n              showCursorWhenSelecting: true, // 选中时显示光标\n              readOnly: true,\n              lineWrapping: true,\n            }}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["EsCheck","tabValues","setTabValues","useState","thrift","setThrift","START_THRIFT","jsBundleCode","setJsBundleCode","START_JS_BUNDLE","htmlCode","setHtmlCode","START_HTML","sourcemapCode","setSourcemapCode","START_SOURCEMAP","tsCode","setTsCode","jsBundleLogCode","setJsBundleLogCode","htmlLogCode","setHtmlLogCode","handleClick","ast","parser","print","Tabs","Tooltip","THRIFT_TIPS","Tab","JS_ESCHECK_TIPS","HTML_ESCHECK_TIPS","CodeMirror","Button","CodeMirror2","editor","data","value"],"mappings":"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"}